{"ast":null,"code":"import React,{useEffect}from'react';import'./BookApartment.css';import Cookies from'universal-cookie';import{GetApartment}from'../../components/ApartmentManager/ApartmentManager';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function datediff(first,second){// Take the difference between the dates and divide by milliseconds per day.\n// Round to nearest whole number to deal with DST.\nreturn Math.round((second-first)/(1000*60*60*24));}function BookApartment(){var cookies=new Cookies();var apartment=null;var checkin=null;var checkout=null;var days=null;useEffect(function(){try{apartment=GetApartment(cookies.get('book-apartment'));var checkinDate=new Date(cookies.get('book-checkin'));var checkoutDate=new Date(cookies.get('book-checkout'));checkin=cookies.get('book-checkin');checkout=cookies.get('book-checkout');days=datediff(checkinDate,checkoutDate);}catch(error){window.location.replace('/');}if(apartment===undefined){window.location.replace('/');}},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"main-content\",children:/*#__PURE__*/_jsx(\"div\",{id:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"booking__details\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"booking__details-content\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your booking details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__dates\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"date-title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Check-in\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"date\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:checkin}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:/*#__PURE__*/_jsx(\"span\",{className:\"data_subtitle\",children:\"3:00 PM - 12:00 AM\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"date-title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Check-out\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"date\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:checkout}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:/*#__PURE__*/_jsx(\"span\",{className:\"data_subtitle\",children:\"3:00 PM - 12:00 AM\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-length\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"date-length__title\",children:\"Total length of stay\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"date-length__subtitle\",children:[days,\" nights\"]})]})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your price summary\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__price-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-line\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-type\",children:\"Apartment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-value\",children:[apartment.price*days,\"K\\u010D\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-line\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-type\",children:\"10% VAT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-value\",children:\"308 K\\u010D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-line\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-type\",children:\"Cleaning fee\"}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-value\",children:\"1300 K\\u010D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-line\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-type\",children:\"City tax\"}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-value\",children:\"249 K\\u010D\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__total\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__total-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"price-details__charge-type\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-name\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Price\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-description\",children:/*#__PURE__*/_jsx(\"p\",{children:\"(your currency)\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"price-details__charge-value\",children:/*#__PURE__*/_jsxs(\"span\",{children:[apartment.price*days+308+1300+249,\" K\\u010D *\"]})})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"booking\",children:/*#__PURE__*/_jsx(\"div\",{id:\"booking-wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"/posts/bookApartment.php\",method:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Enter your details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"fname\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"fname\",name:\"fname\",required:true}),/*#__PURE__*/_jsx(\"label\",{for:\"lname\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lname\",name:\"lname\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form__flex__inside\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__flex__inside\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"phone\",children:\"Tell\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phone\",name:\"phone\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Special Requests\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"parking_please\",id:\"parking_please\",type:\"checkbox\",className:\"form__input-checkbox\",value:\"1\"}),/*#__PURE__*/_jsx(\"label\",{for:\"parking_please\",children:\"I'd like private parking on site\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your arrival time\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"fname\",children:\"Add your estimated arrival time\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form__input-select_disabled\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"checkin_timeOfArrival\",id:\"checkin_timeOfArrival\",className:\"form__input-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:true,disabled:true,selected:true,children:\"Please select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-1\",children:\"I don't know\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12\",children:\"12:00 PM \\u2013 1:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"13\",children:\"1:00 PM \\u2013 2:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"14\",children:\"2:00 PM \\u2013 3:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"3:00 PM \\u2013 4:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"16\",children:\"4:00 PM \\u2013 5:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"17\",children:\"5:00 PM \\u2013 6:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"18\",children:\"6:00 PM \\u2013 7:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"19\",children:\"7:00 PM \\u2013 8:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"8:00 PM \\u2013 9:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"21\",children:\"9:00 PM \\u2013 10:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"22\",children:\"10:00 PM \\u2013 11:00 PM \"}),/*#__PURE__*/_jsx(\"option\",{value:\"23\",children:\"11:00 PM \\u2013 12:00 AM \"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Review House Rules\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your host would like you to agree to the following house rules:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"No smoking\"}),/*#__PURE__*/_jsx(\"li\",{children:\"No parties/events\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Quiet hours are between 10:00 PM and 9:00 AM\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Quiet hours are between 10:00 PM and 9:00 AM\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form__title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Payment method\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form__wrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Not availaible\"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"apartment\",value:apartment.link}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"checkin\",value:checkin}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"checkout\",value:checkout}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__submit\",children:\"Complete the reservation\"})]})})})]})})});}export default BookApartment;","map":{"version":3,"sources":["C:/Users/David/React/ReactJs/mvahouse/client/src/containers/BookApartment/BookApartment.js"],"names":["React","useEffect","Cookies","GetApartment","datediff","first","second","Math","round","BookApartment","cookies","apartment","checkin","checkout","days","get","checkinDate","Date","checkoutDate","error","window","location","replace","undefined","price","link"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport './BookApartment.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { GetApartment } from '../../components/ApartmentManager/ApartmentManager';\r\n\r\nfunction datediff(first, second) {\r\n    // Take the difference between the dates and divide by milliseconds per day.\r\n    // Round to nearest whole number to deal with DST.\r\n    return Math.round((second-first)/(1000*60*60*24));\r\n}\r\n\r\nfunction BookApartment() {\r\n    const cookies = new Cookies();\r\n    let apartment = null;\r\n    let checkin = null;\r\n    let checkout = null;\r\n    let days = null;\r\n    useEffect(() => {\r\n        try {\r\n            apartment = GetApartment(cookies.get('book-apartment'));\r\n            let checkinDate = new Date(cookies.get('book-checkin'));\r\n            let checkoutDate = new Date(cookies.get('book-checkout'));\r\n            checkin = cookies.get('book-checkin');\r\n            checkout = cookies.get('book-checkout');\r\n            days = datediff(checkinDate, checkoutDate);\r\n        } catch (error) {\r\n            window.location.replace('/');\r\n        }\r\n        if (apartment === undefined) {\r\n            window.location.replace('/');\r\n        }\r\n    }, []);\r\n    return (\r\n        <div id=\"main-content\">\r\n            <div id=\"content\">\r\n                <div id=\"content-wrapper\">\r\n                    <div id=\"booking__details\">\r\n                        <div id=\"booking__details-content\">\r\n                            <section className=\"card\">\r\n                                <div className=\"card-content\">\r\n                                    <div className=\"card__title\">\r\n                                        <p>Your booking details</p>\r\n                                    </div>\r\n                                    <div className=\"card__dates\">\r\n                                        <div className=\"date-item\">\r\n                                            <div className=\"date-title\">\r\n                                                <p>Check-in</p>\r\n                                            </div>\r\n                                            <div className=\"date\">\r\n                                                <div className=\"title\">{checkin}</div>\r\n                                                <div className=\"subtitle\"><span className=\"data_subtitle\">3:00 PM -\r\n                                                    12:00 AM</span></div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"date-item\">\r\n                                            <div className=\"date-title\">\r\n                                                <p>Check-out</p>\r\n                                            </div>\r\n                                            <div className=\"date\">\r\n                                                <div className=\"title\">{checkout}</div>\r\n                                                <div className=\"subtitle\"><span className=\"data_subtitle\">3:00 PM -\r\n                                                    12:00 AM</span></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"date-length\">\r\n                                        <p className=\"date-length__title\">Total length of stay</p>\r\n                                        <p className=\"date-length__subtitle\">{days} nights</p>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                            <section className=\"card\">\r\n                                <div className=\"card-content\">\r\n                                    <div className=\"card__title\">\r\n                                        <p>Your price summary</p>\r\n                                    </div>\r\n                                    <div className=\"card__price-details\">\r\n                                        <div className=\"price-details__charge-line\">\r\n                                            <div className=\"price-details__charge-type\">Apartment</div>\r\n                                            <div className=\"price-details__charge-value\">{apartment.price * days}\r\n                                                Kč</div>\r\n                                        </div>\r\n                                        <div className=\"price-details__charge-line\">\r\n                                            <div className=\"price-details__charge-type\">10% VAT</div>\r\n                                            <div className=\"price-details__charge-value\">308 Kč</div>\r\n                                        </div>\r\n                                        <div className=\"price-details__charge-line\">\r\n                                            <div className=\"price-details__charge-type\">Cleaning fee</div>\r\n                                            <div className=\"price-details__charge-value\">1300 Kč</div>\r\n                                        </div>\r\n                                        <div className=\"price-details__charge-line\">\r\n                                            <div className=\"price-details__charge-type\">City tax</div>\r\n                                            <div className=\"price-details__charge-value\">249 Kč</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"price-details__total\">\r\n                                    <div className=\"price-details__total-content\">\r\n                                        <div className=\"price-details__charge-type\">\r\n                                            <div className=\"price-details__charge-name\">\r\n                                                <p>Price</p>\r\n                                            </div>\r\n                                            <div className=\"price-details__charge-description\">\r\n                                                <p>(your currency)</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"price-details__charge-value\">\r\n                                            <span>{apartment.price * days + 308 + 1300 + 249} Kč *</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"booking\">\r\n                        <div id=\"booking-wrapper\">\r\n                            <form action=\"/posts/bookApartment.php\" method=\"post\">\r\n                                <div className=\"form\">\r\n                                    <div className=\"form__title\">\r\n                                        <p>Enter your details</p>\r\n                                    </div>\r\n                                    <div className=\"form__wrapper\">\r\n                                        <label for=\"fname\">First Name</label>\r\n                                        <input type=\"text\" id=\"fname\" name=\"fname\" required></input>\r\n                                        <label for=\"lname\">Last Name</label>\r\n                                        <input type=\"text\" id=\"lname\" name=\"lname\" required></input>\r\n                                        <div className=\"form__flex\">\r\n                                            <div className=\"form__flex__inside\">\r\n                                                <label for=\"email\">E-mail</label>\r\n                                                <input type=\"text\" id=\"email\" name=\"email\" required></input>\r\n                                            </div>\r\n                                            <div className=\"form__flex__inside\">\r\n                                                <label for=\"phone\">Tell</label>\r\n                                                <input type=\"text\" id=\"phone\" name=\"phone\" required></input>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form\">\r\n                                    <div className=\"form__title\">\r\n                                        <p>Special Requests</p>\r\n                                    </div>\r\n                                    <div className=\"form__wrapper\">\r\n                                        <input name=\"parking_please\" id=\"parking_please\" type=\"checkbox\" className=\"form__input-checkbox\" value=\"1\"></input>\r\n                                        <label for=\"parking_please\">I'd like private parking on site</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form\">\r\n                                    <div className=\"form__title\">\r\n                                        <p>Your arrival time</p>\r\n                                    </div>\r\n                                    <div className=\"form__wrapper\">\r\n                                        <label for=\"fname\">Add your estimated arrival time</label>\r\n                                        <div className=\"form__input-select_disabled\">\r\n                                            <select name=\"checkin_timeOfArrival\" id=\"checkin_timeOfArrival\"\r\n                                                className=\"form__input-select\">\r\n                                                <option value disabled selected>Please select</option>\r\n                                                <option value=\"-1\">I don't know</option>\r\n                                                <option value=\"12\">12:00 PM – 1:00 PM </option>\r\n                                                <option value=\"13\">1:00 PM – 2:00 PM </option>\r\n                                                <option value=\"14\">2:00 PM – 3:00 PM </option>\r\n                                                <option value=\"15\">3:00 PM – 4:00 PM </option>\r\n                                                <option value=\"16\">4:00 PM – 5:00 PM </option>\r\n                                                <option value=\"17\">5:00 PM – 6:00 PM </option>\r\n                                                <option value=\"18\">6:00 PM – 7:00 PM </option>\r\n                                                <option value=\"19\">7:00 PM – 8:00 PM </option>\r\n                                                <option value=\"20\">8:00 PM – 9:00 PM </option>\r\n                                                <option value=\"21\">9:00 PM – 10:00 PM </option>\r\n                                                <option value=\"22\">10:00 PM – 11:00 PM </option>\r\n                                                <option value=\"23\">11:00 PM – 12:00 AM </option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form\">\r\n                                    <div className=\"form__title\">\r\n                                        <p>Review House Rules</p>\r\n                                    </div>\r\n                                    <div className=\"form__wrapper\">\r\n                                        <p>Your host would like you to agree to the following house rules:</p>\r\n                                        <ul>\r\n                                            <li>No smoking</li>\r\n                                            <li>No parties/events</li>\r\n                                            <li>Quiet hours are between 10:00 PM and 9:00 AM</li>\r\n                                        </ul>\r\n                                        <p>Quiet hours are between 10:00 PM and 9:00 AM</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form\">\r\n                                    <div className=\"form__title\">\r\n                                        <p>Payment method</p>\r\n                                    </div>\r\n                                    <div className=\"form__wrapper\">\r\n                                        <p>Not availaible</p>\r\n                                    </div>\r\n                                </div>\r\n                                <input type=\"hidden\" name=\"apartment\" value={apartment.link}></input>\r\n                                <input type=\"hidden\" name=\"checkin\" value={checkin}></input>\r\n                                <input type=\"hidden\" name=\"checkout\" value={checkout}></input>\r\n                                <button type=\"submit\" className=\"form__submit\">Complete the reservation</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default BookApartment;"]},"metadata":{},"sourceType":"module"}